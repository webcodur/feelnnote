# 날짜 및 시간 처리 지침 (Date & Time Handling Guidelines)

이 문서는 **Feelandnote** 프로젝트(WEB, WEB-BO)에서 날짜와 시간 데이터를 일관되게 처리하기 위한 지침을 정의합니다.

## 1. 기본 원칙
1. **DB 저장 (Storage)**: 모든 날짜와 시간은 **UTC (Universal Time Coordinated)** 기준으로 저장합니다.
2. **화면 표시 (Display)**: 사용자에게 보여주는 모든 날짜와 시간은 **KST (Korea Standard Time, UTC+9)** 기준으로 변환하여 표시합니다.
3. **데이터 전달 (Transmission)**: API 요청 및 응답 시에도 ISO 8601 UTC 형식을 유지합니다.

## 2. 구현 방법

### 유틸리티 함수 (lib/utils/date.ts)
각 앱(`sw/web`, `sw/web-bo`)의 유틸리티 폴더에 다음과 같은 표준 함수를 구현하여 사용합니다.

```typescript
/**
 * UTC 날짜를 KST 기준으로 포맷팅
 * @param date ISO 날짜 문자열 또는 Date 객체
 * @param options Intl.DateTimeFormatOptions (선택)
 */
export function formatKST(date: string | Date | number, options?: Intl.DateTimeFormatOptions): string;

/**
 * UTC 날짜를 KST 시간대가 더해진 Date 객체로 변환 (표시 전용)
 * @param date ISO 날짜 문자열 또는 Date 객체
 */
export function toKST(date: string | Date | number): Date;
```

### 적용 대상 및 범위 (Scope Analysis)
검색 결과, 생각보다 광범위한 파일들이 영향을 받습니다 (약 70개 이상의 파일).

- **sw/web (약 40+ 개소)**:
  - `actions/`: 게시글 조회, 알림, 기록, 추천 등 대부분의 데이터 페칭 로직
  - `components/`: 피드 카드, 알림 목록, 댓글 섹션, 상세 정보 패널 등
- **sw/web-bo (약 30+ 개소)**:
  - `app/(admin)/`: 사용자/셀럽/기능별 테이블(DataTable), 상세 페이지, 활동 로그 등 관리자 화면 전반

## 3. 향후 작업 로드맵
- [ ] **중앙 집중화**: `packages/shared/src/lib/utils/date.ts`로 공통 로직 이동
- [ ] **점진적 적용**: 
  1. `sw/web-bo`에 먼저 공통 유틸 적용 (관리자 화면은 정확한 시간 확인이 더 중요하므로)
  2. `sw/web`의 주요 피드 및 알림 섹션 교체
- [ ] **정적 분석**: ESLint 룰 추가를 통해 `new Date().toLocale...` 직접 사용 제한 검토

---
**작업 상태**: 
- `sw/web/src/lib/utils/date.ts` 생성 완료
- `sw/web/src/components/features/board/notices/NoticeItem.tsx` 시범 적용 완료
- 범위 분석 결과 **분량이 상당함(약 70개 파일)**을 확인. 현재 문서화 후 대기 중.
