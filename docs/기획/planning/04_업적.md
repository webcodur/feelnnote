# 업적 시스템

## 개요

활동에 점수가 쌓이고, 조건 달성 시 칭호가 해금된다. 기록을 지속하는 동기부여.

---

## 점수 시스템

### 활동별 점수

| 활동 | 점수 | 설명 |
|------|------|------|
| 콘텐츠 추가 | +1 | 기록관에 새 콘텐츠 추가 |
| 리뷰 작성 | +3 | 별점 + 감상평 작성 |
| 노트 작성 | +2 | 섹션 노트 작성 |
| 창작 작성 | +5 | What If, 매체 전환, OST |
| 티어리스트 생성 | +2 | 새 티어리스트 생성 |

### 점수 구성

```
총 업적 점수 = 활동 점수 + 칭호 보너스
```

| 구성 | 설명 |
|------|------|
| 활동 점수 | 활동별로 적립되는 점수 |
| 칭호 보너스 | 칭호 해금 시 추가되는 보너스 점수 |

---

## 칭호 시스템

### 카테고리

| 카테고리 | 아이콘 | 설명 |
|----------|--------|------|
| 기록량 | 📚 | 콘텐츠/기록 수량 기반 |
| 다양성 | 🧭 | 여러 카테고리/장르 경험 |
| 꾸준함 | 📅 | 연속 기록, 정기 활동 |
| 깊이 | ✏️ | 긴 리뷰, 상세한 노트 |
| 소셜 | 👥 | 팔로워, 좋아요 (개발예정) |
| 특수 | ✨ | 첫 활동, 이벤트 등 |

### 등급

| 등급 | 색상 | 아이콘 | 보너스 범위 |
|------|------|--------|-------------|
| Common | 회색 | ⬜ | +10~30 |
| Uncommon | 초록 | 🟩 | +50~100 |
| Rare | 파랑 | 🟦 | +150~250 |
| Epic | 보라 | 🟪 | +300~500 |
| Legendary | 금색 | 🟨 | +500+ |

### 칭호 예시

#### 기록량

| 칭호 | 조건 | 등급 | 보너스 |
|------|------|------|--------|
| 첫 발자국 | 첫 콘텐츠 추가 | Common | +10 |
| 열 권의 시작 | 도서 10권 | Uncommon | +50 |
| 백 권의 무게 | 도서 100권 | Rare | +200 |
| 기록의 화신 | 기록 1000개 | Legendary | +500 |

#### 다양성

| 칭호 | 조건 | 등급 | 보너스 |
|------|------|------|--------|
| 장르 유목민 | 5개 장르 경험 | Uncommon | +50 |
| 르네상스인 | 모든 카테고리 경험 | Epic | +300 |

#### 꾸준함

| 칭호 | 조건 | 등급 | 보너스 |
|------|------|------|--------|
| 7일 연속 | 7일 연속 기록 | Uncommon | +70 |
| 30일 개근 | 30일 연속 기록 | Rare | +200 |
| 1년 개근 | 365일 연속 기록 | Legendary | +1000 |

#### 깊이

| 칭호 | 조건 | 등급 | 보너스 |
|------|------|------|--------|
| 한 줄의 시작 | 첫 리뷰 작성 | Common | +10 |
| 논문급 리뷰어 | 1000자 이상 리뷰 | Rare | +150 |
| 디테일 장인 | 노트 섹션 10개 이상 | Epic | +300 |

---

## 해금 알림

칭호 해금 시 모달로 알림.

```
┌─────────────────────────────────────────┐
│                                         │
│           🎉 칭호 해금!                 │
│                                         │
│           🟩 열 권의 시작               │
│           "서재가 풍성해지기 시작했다"   │
│                                         │
│           보너스: +50점                  │
│                                         │
│              [확인]                     │
│                                         │
└─────────────────────────────────────────┘
```

---

## 업적 페이지 구성

```
┌─────────────────────────────────────────┐
│ 🏆 업적                                 │
│ 활동으로 점수를 쌓고 다양한 칭호를 획득  │
├─────────────────────────────────────────┤
│                                         │
│ 총 업적 점수          활동    칭호보너스 │
│     1,250             1,100      +150   │
│                                         │
├─────────────────────────────────────────┤
│ [점수 내역] [칭호 목록]                  │
├─────────────────────────────────────────┤
│                                         │
│ (탭 내용)                               │
│                                         │
└─────────────────────────────────────────┘
```

### 점수 내역 탭

| 시간 | 활동 | 점수 |
|------|------|------|
| 2시간 전 | 리뷰 작성 | +3 |
| 5시간 전 | 콘텐츠 추가 | +1 |
| 1일 전 | 칭호 해금: 열 권의 시작 | +50 |

### 칭호 목록 탭

카테고리별 진행률 + 해금/미해금 칭호 목록

---

## 데이터 모델

### user_scores

| 필드 | 타입 | 설명 |
|------|------|------|
| user_id | UUID | PK |
| total_score | INTEGER | 총 점수 |
| activity_score | INTEGER | 활동 점수 |
| title_bonus | INTEGER | 칭호 보너스 |
| updated_at | TIMESTAMPTZ | 갱신일 |

### score_logs

| 필드 | 타입 | 설명 |
|------|------|------|
| id | UUID | PK |
| user_id | UUID | 사용자 |
| type | TEXT | 타입 (activity, title) |
| action | TEXT | 활동 설명 |
| amount | INTEGER | 점수 (양수/음수) |
| created_at | TIMESTAMPTZ | 발생일 |

### titles

| 필드 | 타입 | 설명 |
|------|------|------|
| id | TEXT | PK |
| name | TEXT | 칭호명 |
| description | TEXT | 설명 |
| category | TEXT | 카테고리 |
| grade | TEXT | 등급 |
| condition | JSONB | 해금 조건 |
| bonus_score | INTEGER | 보너스 점수 |

### user_titles

| 필드 | 타입 | 설명 |
|------|------|------|
| user_id | UUID | 사용자 |
| title_id | TEXT | 칭호 ID |
| unlocked_at | TIMESTAMPTZ | 해금일 |

---

## API

| API | 설명 |
|-----|------|
| getAchievementData | 업적 데이터 조회 (점수, 로그, 칭호) |
| checkAchievements | 칭호 해금 조건 체크 |

---

*04_업적.md - 최종 수정: 2024.12*
